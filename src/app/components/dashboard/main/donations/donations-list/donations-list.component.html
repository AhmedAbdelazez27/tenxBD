<section class="donation-header">
    <div class="container">
        <div class="row d-flex justify-content-center">
            <div class="col-lg-6">
                <div class="inner-blur">
                    <h1 class="title-48-cyan">{{ 'DONATIONS' | translate }}</h1>
                    <h3 class="text-white">{{ 'FOUNDATION_NAME' | translate }}</h3>
                </div>
            </div>
        </div>
    </div>

</section>


<div class="container">
    <div class="about-tabs-container">
        <button class="btn btn-about-tabs" [ngClass]="{ active: selectedTab === 'general' }"
            (click)="switchTab('general')">
            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60" fill="none">
                <path
                    d="M8.29697 7.66448C7.16025 8.07464 6.43369 8.73089 5.97666 9.76214C5.85947 10.0317 5.30869 12.5512 4.75791 15.352L3.7501 20.4496V33.9848C3.7501 48.727 3.72666 48.1293 4.40635 49.477C4.82822 50.309 5.84775 51.3403 6.66807 51.7856C8.10947 52.5473 6.57432 52.5004 30.0001 52.5004C53.4259 52.5004 51.8907 52.5473 53.3321 51.7856C54.1524 51.3403 55.172 50.309 55.5938 49.477C56.2735 48.1293 56.2501 48.727 56.2501 33.9848V20.4496L55.2423 15.352C54.5978 12.0473 54.1524 10.0434 53.9649 9.64495C53.6368 8.9301 52.9337 8.21526 52.172 7.84026L51.6212 7.55901L30.1759 7.53557C12.7267 7.51214 8.64854 7.53557 8.29697 7.66448ZM50.6603 11.5082C50.8009 12.0824 52.0313 18.4457 52.0313 18.5864C52.0313 18.727 48.4923 18.7504 30.0001 18.7504C11.5079 18.7504 7.96885 18.727 7.96885 18.5864C7.96885 18.4457 9.19932 12.0824 9.33994 11.5082L9.39854 11.2504H30.0001H50.6017L50.6603 11.5082ZM26.6368 24.8324C27.7618 25.1254 28.6642 25.5473 29.4142 26.1449L30.0001 26.602L30.586 26.1449C32.8712 24.3403 36.3165 24.1293 38.9063 25.6293C40.1134 26.3324 41.1563 27.4692 41.7657 28.7465C42.422 30.0942 42.586 30.9379 42.5157 32.4965C42.4454 33.9379 42.1173 34.9926 41.3556 36.1528C40.6759 37.2074 33.7032 43.7582 32.6954 44.2856C30.9259 45.2348 29.004 45.2231 27.2696 44.2621C26.8243 44.016 25.3243 42.7035 22.9103 40.4418C18.9142 36.727 18.3985 36.1176 17.836 34.5356C17.4728 33.5043 17.3556 31.6762 17.5782 30.5629C17.7657 29.5785 18.4688 28.102 19.1485 27.2817C20.8946 25.1371 23.9415 24.1528 26.6368 24.8324Z"
                    fill="" />
                <path
                    d="M23.6119 13.2894C22.8268 13.6292 22.3815 14.5316 22.5455 15.4105C22.651 15.9613 23.2369 16.6058 23.7643 16.7581C24.0573 16.8519 26.2135 16.8753 30.2565 16.8519C36.1627 16.8167 36.3151 16.805 36.6315 16.5706C37.2526 16.1136 37.4401 15.7386 37.4401 15.0003C37.4401 14.2621 37.2526 13.8871 36.6315 13.43C36.3151 13.1839 36.1627 13.1839 30.1393 13.1605C25.1823 13.1371 23.8932 13.1605 23.6119 13.2894Z"
                    fill="" />
            </svg>
            {{ 'GENERAL_DONATIONS' | translate }}
        </button>
        <button class="btn btn-about-tabs" [ngClass]="{ active: selectedTab === 'message' }"
            (click)="switchTab('message')">
            <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 60 60" fill="none">
                <path
                    d="M26.6591 2.47239C21.6551 3.11692 16.5809 5.27317 12.6551 8.4138C7.42859 12.5974 3.8778 18.6208 2.69421 25.3122C2.33093 27.363 2.23718 31.4529 2.50671 33.4568C2.79968 35.5661 3.23327 37.3474 3.9364 39.3747C4.28796 40.3708 4.60437 41.449 4.63952 41.7771C4.6864 42.1169 4.54577 43.9099 4.33484 45.9958C3.84265 50.6716 3.86609 51.4099 4.54577 52.781C5.40124 54.4919 6.84265 55.5935 8.74109 55.9802C9.5614 56.1443 9.7489 56.1326 13.4403 55.7341C15.5497 55.4997 17.5419 55.3122 17.8466 55.3122C18.2333 55.3122 19.1239 55.5466 20.6591 56.074C22.8739 56.8122 24.8895 57.2927 26.8348 57.5388C28.2528 57.7146 31.827 57.6794 33.4091 57.4919C41.8348 56.4372 49.37 51.5388 53.7528 44.238C56.2137 40.1365 57.4091 36.1638 57.6551 31.2419C57.913 26.3083 57.0692 22.1833 54.9012 17.7536C50.8466 9.42161 43.1122 3.84349 33.8075 2.51927C32.495 2.33177 28.0184 2.30833 26.6591 2.47239ZM38.1786 21.5505C39.6551 22.3005 39.9598 24.2927 38.7645 25.3943C38.0966 26.0271 38.2372 26.0154 29.9755 26.0154C22.4051 26.0154 22.3348 26.0154 21.8192 25.7693C21.1981 25.4646 20.6708 24.7029 20.5536 23.9529C20.413 23.0036 20.9755 21.9372 21.8426 21.5505C22.2997 21.3396 22.7567 21.3279 30.0341 21.3279C37.3817 21.3279 37.7684 21.3396 38.1786 21.5505ZM33.7255 34.3708C34.37 34.7927 34.7333 35.4958 34.7333 36.3279C34.7333 37.1599 34.37 37.863 33.7255 38.2849L33.2333 38.613L27.7723 38.6482L22.3114 38.6833L21.7958 38.4021C20.1669 37.5466 20.1669 35.1091 21.7958 34.2536L22.3114 33.9724L27.7723 34.0076L33.2333 34.0427L33.7255 34.3708Z"
                    fill="" />
            </svg>
            {{ 'DONATE_MESSAGE' | translate }}
        </button>

    </div>
</div>

<section class="mt-150" *ngIf="selectedTab == 'general'">
    <div class="container">
        <div class="row">

            <div class="col-lg-4 mn-4" *ngFor="let item of listDonation">
                <div class="card campain-container">
                    <img style="width: 350px ; height: 290px;"
                        [src]="item?.filePath ? item?.filePath:'../../../../../../assets/images/Rectangle 4161.png'"
                        class="card-img-top">
                    <div class="card-body">
                        <h5 class="text-24-black text-center">{{currentLang === 'ar' ? item.autoCouponName : item.couponNameEn }}</h5>

                        <div class="d-flex justify-content-center" style="gap:8px;">
                            <button class="btn btn-blue"
                                (click)="selectCurrentItem($event,item,false,'Donation Normal')" data-bs-toggle="modal"
                                data-bs-target="#exampleModal">

                                {{ 'BUTTON.ADD_TO_CART' | translate }}
                            </button>
                            <button class="btn btn-green"
                                (click)="selectCurrentItem($event,item,true,'Donation Normal')" data-bs-toggle="modal"
                                data-bs-target="#exampleModal">
                                <span>

                                </span>
                                {{ 'BUTTON.DONATE_NOW' | translate }}
                            </button>

                        </div>
                    </div>
                </div>
            </div>


        </div>
    </div>
</section>

<!-- SMS START  -->
<section class="mt-150" *ngIf="selectedTab == 'message'">
    <div class="container">
        <div class="row">
            <div class="col-lg-4 mn-4" *ngFor="let item of itemsWithNonEmptySMSTr"
                (click)="selectCurrentItem($event,item,false,'Donation')">
                <div class="card campain-container" style="cursor:pointer" data-bs-toggle="modal"
                    data-bs-target="#exampleModal">
                    <img style="width: 350px ; height: 290px;"
                        [src]="item?.filePath ? item?.filePath:'../../../../../../assets/images/Rectangle 4161.png'"
                        class="card-img-top">
                    <div class="card-body">
                        <h5 class="text-24-black text-center">{{currentLang === 'ar' ? item.autoCouponName : item.couponNameEn }}</h5>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- SMS END  -->



<!-- Modal start sms -->
<div class="modal modal-blur fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body sms-modal">
                <ng-container *ngIf="selectedTab == 'message'">
                    <div class="text-center ">
                        <h3 class="blue mb-4">
                            {{currentItemCart?.autoCouponName}}
                        </h3>
                        <img style="width: 350px ; height: 290px;"
                            [src]="currentItemCart?.filePath ? currentItemCart?.filePath:'../../../../../../assets/images/Rectangle 4161.png'"
                            class="img-shadow w-100  mb-4">

                        <p class="text-24-black"> {{ 'SMS_DONATION_SERVICE' | translate }}</p>
                    </div>

                    <!-- <div class="d-flex mb-3" style="gap:16px;"> -->
                    <div *ngFor="let row of results" class="d-flex mb-3" style="gap:16px;">
                        <ng-container *ngFor="let item of row; let i = index">
                            <input type="radio" class="btn-check" name="options" [id]="'option' + i" autocomplete="off"
                                checked />
                            <label class="btn btn-secondary w-100" [for]="'option' + i"  (click)="sendSMS(item.smsNumber, item.amount)">
                                {{ item?.amount }} درهم
                            </label>
                        </ng-container>
                    </div>
                    <div class="d-flex justify-content-center " style="gap:8px;">
                        <button href="#" class="btn btn-blue btn-wide">

                            {{ 'CONFIRM' | translate }}
                        </button>

                    </div>
                </ng-container>
                <ng-container *ngIf="selectedTab === 'general'">
                    <div class="text-center ">
                        <h3 class="blue mb-4">
                            {{currentItemCart?.autoCouponName ? currentItemCart?.autoCouponName :
                            currentItemCart?.projectCampainNameEn}}
                        </h3>
                        <img [src]="currentItemCart?.filePath || '../../../../../assets/images/Rectangle 4161-2.png'"
                            class="img-shadow w-100  mb-4" style="height: 250px; width: 250px;">
    
                    </div>
    
                    <div class="mb-3  mb-4">
                        <label for="exampleFormControlInput1" class="form-label">{{"VALUE"|translate}} </label>
                        <input type="number" [(ngModel)]="inputValue" class="form-control" id="exampleFormControlInput1"
                            placeholder="">
                    </div>
    
                    <div class="d-flex justify-content-center " style="gap:8px;">
                        <button class="btn btn-blue btn-wide" style="margin:auto;" [disabled]="!inputValue"
                            (click)="addToCartDonation(currentItemCart)" data-bs-toggle="modal"
                            data-bs-target="#exampleModal">
                            {{"OK"|translate}}
                        </button>
    
                    </div>
                </ng-container>
            </div>
            <!-- end body  -->

        </div>
    </div>
</div>


<p-toast position="top-right"></p-toast>
<!-- modal end sms -->